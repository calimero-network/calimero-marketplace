{
  "schema_version": "wasm-abi/1",
  "types": {
    "AppMode": {
      "kind": "variant",
      "variants": [
        {
          "name": "ContextManager"
        },
        {
          "name": "Marketplace"
        }
      ]
    },
    "EscrowStatus": {
      "kind": "variant",
      "variants": [
        {
          "name": "Pending"
        },
        {
          "name": "Released"
        },
        {
          "name": "Refunded"
        }
      ]
    },
    "MarketplaceApp": {
      "kind": "record",
      "fields": [
        {
          "name": "mode",
          "type": {
            "$ref": "AppMode"
          }
        },
        {
          "name": "admin_address",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "marketplace_requests",
          "type": {
            "kind": "map",
            "key": {
              "kind": "string"
            },
            "value": {
              "$ref": "MarketplaceRequest"
            }
          }
        },
        {
          "name": "marketplaces",
          "type": {
            "kind": "map",
            "key": {
              "kind": "string"
            },
            "value": {
              "$ref": "MarketplaceInfo"
            }
          }
        },
        {
          "name": "request_counter",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "marketplace_counter",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "marketplace_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "owner_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "seller_requests",
          "type": {
            "kind": "map",
            "key": {
              "kind": "string"
            },
            "value": {
              "$ref": "SellerRequest"
            }
          }
        },
        {
          "name": "sellers",
          "type": {
            "kind": "map",
            "key": {
              "kind": "string"
            },
            "value": {
              "$ref": "SellerInfo"
            }
          }
        },
        {
          "name": "products",
          "type": {
            "kind": "map",
            "key": {
              "kind": "string"
            },
            "value": {
              "$ref": "Product"
            }
          }
        },
        {
          "name": "orders",
          "type": {
            "kind": "map",
            "key": {
              "kind": "string"
            },
            "value": {
              "$ref": "Order"
            }
          }
        },
        {
          "name": "seller_counter",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "product_counter",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "order_counter",
          "type": {
            "kind": "u64"
          }
        }
      ]
    },
    "MarketplaceInfo": {
      "kind": "record",
      "fields": [
        {
          "name": "id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "owner_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "store_name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "type_of_goods",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "context_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "created_at",
          "type": {
            "kind": "u64"
          }
        }
      ]
    },
    "MarketplaceRequest": {
      "kind": "record",
      "fields": [
        {
          "name": "id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "owner_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "store_name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "type_of_goods",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "signature",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "timestamp",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "approved",
          "type": {
            "kind": "bool"
          }
        }
      ]
    },
    "Order": {
      "kind": "record",
      "fields": [
        {
          "name": "id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "buyer_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "product_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "seller_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "amount",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "escrow_status",
          "type": {
            "$ref": "EscrowStatus"
          }
        },
        {
          "name": "qr_payload",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "created_at",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "delivered_at",
          "type": {
            "kind": "u64"
          },
          "nullable": true
        }
      ]
    },
    "Product": {
      "kind": "record",
      "fields": [
        {
          "name": "id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "seller_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "description",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "quantity",
          "type": {
            "kind": "u32"
          }
        },
        {
          "name": "price",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "image_url",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "category",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "shipping_info",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "created_at",
          "type": {
            "kind": "u64"
          }
        }
      ]
    },
    "SellerInfo": {
      "kind": "record",
      "fields": [
        {
          "name": "id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "wallet_address",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "company_name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "company_details",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "approved_at",
          "type": {
            "kind": "u64"
          }
        }
      ]
    },
    "SellerRequest": {
      "kind": "record",
      "fields": [
        {
          "name": "id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "wallet_address",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "company_name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "company_details",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "signature",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "timestamp",
          "type": {
            "kind": "u64"
          }
        },
        {
          "name": "approved",
          "type": {
            "kind": "bool"
          }
        }
      ]
    }
  },
  "methods": [
    {
      "name": "init",
      "params": [],
      "returns": {
        "kind": "unit"
      }
    },
    {
      "name": "init_manager",
      "params": [
        {
          "name": "admin_address",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "init_marketplace",
      "params": [
        {
          "name": "marketplace_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "owner_wallet",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_mode",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "request_marketplace",
      "params": [
        {
          "name": "owner_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "store_name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "type_of_goods",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "signature",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "admin_approve_marketplace",
      "params": [
        {
          "name": "request_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "context_id",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_all_marketplaces",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_pending_requests",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_admin_address",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "request_seller_access",
      "params": [
        {
          "name": "wallet_address",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "company_name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "company_details",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "signature",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "owner_approve_seller",
      "params": [
        {
          "name": "seller_id",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "unit"
      }
    },
    {
      "name": "add_product",
      "params": [
        {
          "name": "seller_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "name",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "description",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "quantity",
          "type": {
            "kind": "u32"
          }
        },
        {
          "name": "price",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "image_url",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "category",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "shipping_info",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "_signature",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "purchase_product",
      "params": [
        {
          "name": "product_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "buyer_wallet",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "amount",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "_signature",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_delivery_payload",
      "params": [
        {
          "name": "order_id",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "confirm_delivery",
      "params": [
        {
          "name": "order_id",
          "type": {
            "kind": "string"
          }
        },
        {
          "name": "_buyer_signature",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "unit"
      }
    },
    {
      "name": "get_products",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_sellers",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_pending_seller_requests",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_orders",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_order",
      "params": [
        {
          "name": "order_id",
          "type": {
            "kind": "string"
          }
        }
      ],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_owner_wallet",
      "params": [],
      "returns": {
        "kind": "string"
      }
    },
    {
      "name": "get_marketplace_id",
      "params": [],
      "returns": {
        "kind": "string"
      }
    }
  ],
  "events": [],
  "state_root": "MarketplaceApp"
}